(map len ((1 2 3) (q w) ())) | (3 2 0)
((c-exp (z x)) (+ (* 7 8) (- x 1))) | ((CONST 1) (LD (D A)) (SUB) (CONST 8) (CONST 7) (MUL) (ADD))
((c-exp (z y x)) (cons x (cons x '()))) | ((CONST ()) (LD (D D A)) (CONS) (LD (D D A)) (CONS))
((c-exp (x y)) (LEAF3 (cons x y) (car y))) | ((LD (D A)) (CAR) (LD (D A)) (LD (A)) (CONS) (CALL LEAF3 2))
(addr-for x in (q w e x y)) | (D D D A)
(mk-addr (car x) (q w x)) | (D D A A)
((c-let (x y)) ((a0 (LEAF1 x y)) (a1 (LEAF2 a0 a0))) a1) | ((LD (D A)) (LD (A)) (CALL LEAF1 2) (ST) (LD (A)) (LD (A)) (CALL LEAF2 2) (ST) (LD (A)))
((c-let (x y)) ((z (LEAF1 x))) (cons x z)) | ((LD (A)) (CALL LEAF1 1) (ST) (LD (A)) (LD (D A)) (CONS))
(c-leaf (let* ((a0 (LEAF1 x y)) (a1 (LEAF2 a0 a0))) a1) (z y x)) | ((LD (D A)) (LD (D D A)) (CALL LEAF1 2) (ST) (LD (A)) (LD (A)) (CALL LEAF2 2) (ST) (LD (A)))
((c-test (x y z)) (equal? (cons x y) (car z))) | (and (CONS? (D D A A)) (and (EQ? (A) (D D A A A)) (EQ? (D A) (D D A A D))))
((c-test (x y z)) (equal? (cons 'elo y) (car (car z)))) | (and (CONS? (D D A A A)) (and (EQ? elo (D D A A A A)) (EQ? (D A) (D D A A A D))))
(code-for (define (LEAF997 v0) (FAIL v0))) | (LEAF997 ((LD (A)) (FAIL)))
(code-for (define (LEAF997 v0) (cons 'elo (cons v0 v0)))) | (LEAF997 ((LD (A)) (LD (A)) (CONS) (CONST elo) (CONS)))
(code-for (define (DIS0 v0) (if (equal? 'apd (car v0)) (if (pair? (cdr v0)) (L0 v0) (L1 v0)) (FAIL v0)))) | (DIS0 ((IF (EQ? (quote apd) (A A)) (IF (CONS? (A D)) ((LD (A)) (CALL L0 1)) ((LD (A)) (CALL L1 1))) ((LD (A)) (FAIL)))))
(compiled ((define (LEAF0 v-ys) v-ys) (define (LEAF1 v-ys v-xs v-x) (let* ((a-0 (DISPATCH4 v-ys v-xs))) (cons v-x a-0))) (define (LEAF2) 0) (define (LEAF3 v-x) v-x) (define (LEAF4 v-y v-x) (let* ((a-0 (DISPATCH3 v-y v-x))) (+ v-y a-0))) (define (LEAF5 v-xs) (let* ((a-0 (DISPATCH2 v-xs))) a-0)) (define (LEAF6 v-rs) v-rs) (define (LEAF7 v-rs v-xs v-x) (let* ((a-0 (DISPATCH1 v-x v-rs v-xs))) a-0)) (define (DISPATCH0 v0) (if (pair? v0) (if (equal? (quote APD) (car v0)) (if (pair? (cdr v0)) (if (null? (car (cdr v0))) (if (pair? (cdr (cdr v0))) (if (null? (cdr (cdr (cdr v0)))) (LEAF0 (car (cdr (cdr v0)))) (FAIL v0)) (FAIL v0)) (if (pair? (car (cdr v0))) (if (pair? (cdr (cdr v0))) (if (null? (cdr (cdr (cdr v0)))) (LEAF1 (car (cdr (cdr v0))) (cdr (car (cdr v0))) (car (car (cdr v0)))) (FAIL v0)) (FAIL v0)) (FAIL v0))) (FAIL v0)) (if (equal? (quote MUL) (car v0)) (if (pair? (cdr v0)) (if (equal? 0 (car (cdr v0))) (if (pair? (cdr (cdr v0))) (if (null? (cdr (cdr (cdr v0)))) (LEAF2) (FAIL v0)) (FAIL v0)) (if (equal? 1 (car (cdr v0))) (if (pair? (cdr (cdr v0))) (if (number? (car (cdr (cdr v0)))) (if (null? (cdr (cdr (cdr v0)))) (LEAF3 (car (cdr (cdr v0)))) (FAIL v0)) (FAIL v0)) (FAIL v0)) (if (number? (car (cdr v0))) (if (pair? (cdr (cdr v0))) (if (number? (car (cdr (cdr v0)))) (if (null? (cdr (cdr (cdr v0)))) (LEAF4 (car (cdr (cdr v0))) (car (cdr v0))) (FAIL v0)) (FAIL v0)) (FAIL v0)) (FAIL v0)))) (FAIL v0)) (if (equal? (quote REV) (car v0)) (if (pair? (cdr v0)) (if (null? (cdr (cdr v0))) (LEAF5 (car (cdr v0))) (if (null? (car (cdr v0))) (if (pair? (cdr (cdr v0))) (if (null? (cdr (cdr (cdr v0)))) (LEAF6 (car (cdr (cdr v0)))) (FAIL v0)) (FAIL v0)) (if (pair? (car (cdr v0))) (if (pair? (cdr (cdr v0))) (if (null? (cdr (cdr (cdr v0)))) (LEAF7 (car (cdr (cdr v0))) (cdr (car (cdr v0))) (car (car (cdr v0)))) (FAIL v0)) (FAIL v0)) (FAIL v0)))) (FAIL v0)) (FAIL v0)))) (FAIL v0))) (define (DISPATCH1 v-x v-rs v-xs) (if (null? v-xs) (LEAF6 (cons v-x v-rs)) (if (pair? v-xs) (LEAF7 (cons v-x v-rs) (cdr v-xs) (car v-xs)) (FAIL (cons (quote REV) (cons v-xs (cons (cons v-x v-rs) (quote ())))))))) (define (DISPATCH2 v-xs) (if (null? v-xs) (LEAF6 (quote ())) (if (pair? v-xs) (LEAF7 (quote ()) (cdr v-xs) (car v-xs)) (FAIL (cons (quote REV) (cons v-xs (cons (quote ()) (quote ())))))))) (define (DISPATCH3 v-y v-x) (if (equal? 0 (- v-x 1)) (LEAF2) (if (equal? 1 (- v-x 1)) (if (number? v-y) (LEAF3 v-y) (FAIL (cons (quote MUL) (cons (- v-x 1) (cons v-y (quote ())))))) (if (number? v-y) (LEAF4 v-y (- v-x 1)) (FAIL (cons (quote MUL) (cons (- v-x 1) (cons v-y (quote ()))))))))) (define (DISPATCH4 v-ys v-xs) (if (null? v-xs) (LEAF0 v-ys) (if (pair? v-xs) (LEAF1 v-ys (cdr v-xs) (car v-xs)) (FAIL (cons (quote APD) (cons v-xs (cons v-ys (quote ())))))))))) | ((LEAF0 ((LD (A)))) (LEAF1 ((LD (D A)) (LD (A)) (CALL DISPATCH4 2) (ST) (LD (A)) (LD (D D D A)) (CONS))) (LEAF2 ((CONST 0))) (LEAF3 ((LD (A)))) (LEAF4 ((LD (D A)) (LD (A)) (CALL DISPATCH3 2) (ST) (LD (A)) (LD (D A)) (ADD))) (LEAF5 ((LD (A)) (CALL DISPATCH2 1) (ST) (LD (A)))) (LEAF6 ((LD (A)))) (LEAF7 ((LD (D A)) (LD (A)) (LD (D D A)) (CALL DISPATCH1 3) (ST) (LD (A)))) (DISPATCH0 ((IF (CONS? (A)) (IF (EQ? (quote APD) (A A)) (IF (CONS? (A D)) (IF (NIL? (A D A)) (IF (CONS? (A D D)) (IF (NIL? (A D D D)) ((LD (A)) (CDR) (CDR) (CAR) (CALL LEAF0 1)) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))) (IF (CONS? (A D A)) (IF (CONS? (A D D)) (IF (NIL? (A D D D)) ((LD (A)) (CDR) (CAR) (CAR) (LD (A)) (CDR) (CAR) (CDR) (LD (A)) (CDR) (CDR) (CAR) (CALL LEAF1 3)) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))) ((LD (A)) (FAIL)))) ((LD (A)) (FAIL))) (IF (EQ? (quote MUL) (A A)) (IF (CONS? (A D)) (IF (EQ? 0 (A D A)) (IF (CONS? (A D D)) (IF (NIL? (A D D D)) ((CALL LEAF2 0)) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))) (IF (EQ? 1 (A D A)) (IF (CONS? (A D D)) (IF (NUM? (A D D A)) (IF (NIL? (A D D D)) ((LD (A)) (CDR) (CDR) (CAR) (CALL LEAF3 1)) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))) (IF (NUM? (A D A)) (IF (CONS? (A D D)) (IF (NUM? (A D D A)) (IF (NIL? (A D D D)) ((LD (A)) (CDR) (CAR) (LD (A)) (CDR) (CDR) (CAR) (CALL LEAF4 2)) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))))) ((LD (A)) (FAIL))) (IF (EQ? (quote REV) (A A)) (IF (CONS? (A D)) (IF (NIL? (A D D)) ((LD (A)) (CDR) (CAR) (CALL LEAF5 1)) (IF (NIL? (A D A)) (IF (CONS? (A D D)) (IF (NIL? (A D D D)) ((LD (A)) (CDR) (CDR) (CAR) (CALL LEAF6 1)) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))) (IF (CONS? (A D A)) (IF (CONS? (A D D)) (IF (NIL? (A D D D)) ((LD (A)) (CDR) (CAR) (CAR) (LD (A)) (CDR) (CAR) (CDR) (LD (A)) (CDR) (CDR) (CAR) (CALL LEAF7 3)) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))))) ((LD (A)) (FAIL))) ((LD (A)) (FAIL))))) ((LD (A)) (FAIL))))) (DISPATCH1 ((IF (NIL? (D D A)) ((LD (D A)) (LD (A)) (CONS) (CALL LEAF6 1)) (IF (CONS? (D D A)) ((LD (D D A)) (CAR) (LD (D D A)) (CDR) (LD (D A)) (LD (A)) (CONS) (CALL LEAF7 3)) ((CONST ()) (LD (D A)) (LD (A)) (CONS) (CONS) (LD (D D A)) (CONS) (CONST REV) (CONS) (FAIL)))))) (DISPATCH2 ((IF (NIL? (A)) ((CONST ()) (CALL LEAF6 1)) (IF (CONS? (A)) ((LD (A)) (CAR) (LD (A)) (CDR) (CONST ()) (CALL LEAF7 3)) ((CONST ()) (CONST ()) (CONS) (LD (A)) (CONS) (CONST REV) (CONS) (FAIL)))))) (DISPATCH3 ((IF (<calc> (EQ? 0 (- (D A) 1))) ((CALL LEAF2 0)) (IF (<calc> (EQ? 1 (- (D A) 1))) (IF (NUM? (A)) ((LD (A)) (CALL LEAF3 1)) ((CONST ()) (LD (A)) (CONS) (CONST 1) (LD (D A)) (SUB) (CONS) (CONST MUL) (CONS) (FAIL))) (IF (NUM? (A)) ((CONST 1) (LD (D A)) (SUB) (LD (A)) (CALL LEAF4 2)) ((CONST ()) (LD (A)) (CONS) (CONST 1) (LD (D A)) (SUB) (CONS) (CONST MUL) (CONS) (FAIL))))))) (DISPATCH4 ((IF (NIL? (D A)) ((LD (A)) (CALL LEAF0 1)) (IF (CONS? (D A)) ((LD (D A)) (CAR) (LD (D A)) (CDR) (LD (A)) (CALL LEAF1 3)) ((CONST ()) (LD (A)) (CONS) (LD (D A)) (CONS) (CONST APD) (CONS) (FAIL)))))))